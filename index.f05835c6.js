async function e(e){try{const e=await fetch(url),t=await e.json();return 200===t.cod?{name:t.name,description:t.weather[0].description,temp:t.main.temp}:(console.error(t.message),null)}catch(e){return console.error("Ошибка получения данных:",e),null}}async function t(){try{const e=await fetch(url),t=await e.json();return"ok"===t.status?t.articles.slice(0,5).map((e=>({title:e.title,description:e.description}))):(console.error(t.message),null)}catch(e){return console.error("Ошибка получения новостей:",e),null}}let n=[];function i(e){n.push({text:e,time:Date.now()+6e4}),setInterval((()=>{const e=Date.now();n=n.filter((t=>!(t.time<=e&&(alert(`Напоминание: ${t.text}`),1))))}),1e3)}function s(e){const t=window.speechSynthesis,n=new SpeechSynthesisUtterance(e);n.lang="ru-RU",t.speak(n)}function c(e,t){e.lang=t,s(`Язык изменён на ${"en-US"===t?"английский":"русский"}.`)}function o(e){const t=JSON.parse(localStorage.getItem("commands"))||[];t.push({command:e,timestamp:new Date}),localStorage.setItem("commands",JSON.stringify(t))}const l=window.SpeechRecognition||window.webkitSpeechRecognition;if(l){const n=new l;n.lang="ru-RU",n.interimResults=!1;const a=document.getElementById("start-btn"),r=document.getElementById("output"),d=document.getElementById("info-container");a.addEventListener("click",(()=>{n.start(),a.classList.add("listening"),r.textContent="Слушаю вас..."})),n.addEventListener("result",(async l=>{const u=l.results[0][0].transcript.toLowerCase();if(r.textContent=`Вы сказали: "${u}"`,a.classList.remove("listening"),o(u),u.includes("привет"))s("Привет! Как я могу помочь?");else if(u.includes("как тебя зовут"))s("Меня зовут Джарвис, ваш голосовой помощник.");else if(u.includes("сколько время")){s(`Сейчас ${(new Date).toLocaleTimeString("ru-RU",{hour:"2-digit",minute:"2-digit"})}`)}else if(u.includes("погода")){u.split("погода в ")[1];const t=await e();if(t){const{name:e,description:n,temp:i}=t;s(`В городе ${e} сейчас ${n}, температура ${i} градусов.`),d.innerHTML=`<div class="card">\n          <h3>Погода в ${e}</h3>\n          <p>${n}, ${i} °C</p>\n        </div>`}else s("Не удалось получить данные о погоде.")}else if(u.includes("напомни")){const e=u.replace("напомни","").trim();i(e),s(`Я напомню вам: ${e}`)}else if(u.includes("новости")){const e=await t();if(e&&e.length>0){s("Вот последние новости.");for(let t=0;t<Math.min(e.length,3);t++){const{title:n,description:i}=e[t];s(`Новость ${t+1}: ${n}. ${i}`)}d.innerHTML=e.map((e=>`<div class="card"><h3>${e.title}</h3><p>${e.description}</p></div>`)).join("")}else s("Не удалось загрузить новости.")}else u.includes("измени язык на английский")?c(n,"en-US"):s("Извините, я не знаю такой команды.")})),n.addEventListener("end",(()=>{a.classList.remove("listening")}))}else alert("Ваш браузер не поддерживает Web Speech API.");
//# sourceMappingURL=index.f05835c6.js.map
